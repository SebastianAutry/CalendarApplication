

Questions:

  >What is a "class"?
    *In my own words, a class is basically an array but better; it allows you to assign properties and methods that make code easier to manage or use.
    *PHP Class reference and guide: https://www.php.net/manual/en/language.oop5.php
    
  >What is a "property"?
    *A property is basically a variable inside of a class, which can be accessed by doing "TheClass->Property"
    
  >What is a "method"?
    *A method is a function inside of a class. "TheClass->Method()"

Others:

  >Coding with teamwork
    *If you don't understand how to use the code below then we can do a thing where you write a comment in the code, and notify me on discord where you need me to write code at using the provided features in this file.
    *Try taking some time to learn about classes more by using the link listed under the question "What is a "class"?"
    
  >Help
    *If you need direct help to understand more about this, contact me on discord and I can try to help you understand more about how to use the features in this file
    *If you need help debugging an error also try to contact me about it, or if I'm unavaliable and the error isn't coming from this file then ask a question on stack overflow or another developer-related website
    
  >Purpose
    *The purpose of this file is to allow easy access to the database so we can easily do many things that we need to do throughout this project.
    
  >My specialties
    *I mainly do good in backend systems like this one for example
    *I am good at javascript; I have online friends that are much better than me but I know how to use the programming language to overcome obstacles.
  
  >My cons
    *I am not the best at HTML or CSS
    *I tend to forget a lot about contacting people, but I shouldn't forget in this project because it's a pretty big project; just encase please contact me whenever you get the chance to let me know that we need to attend to something or do something
  
  >How to setup
    *When you're creating file that needs access to the contents in this one, please do the steps below:
    
    //Start Information
    
    include("./db.php"); //Comes pre-included with "$Session" and "$DatabaseInfo" and "$BasePeriodJSON"
    
    //ONLY ADD THIS IF YOU NEED ACCESS TO THE DATABASE
    
    $Database = new UserDatabase($DatabaseInfo["Username"],$DatabaseInfo["Password"],$DatabaseInfo["DBName"]);
    $Database->Start();

Documentation on how to use all of the stuff below:

  >Variables:
    
    $DatabaseInfo //An array of all the information needed to connect to the database
    
    $BasePeriodJSON //A json-encoded array (a string) that is the base layout for the base data when a user signs up. It is assigned to all period columns inside the database
    
    $Session //A "UserSession" class that contains information on "Username", "UID", "LoggedIn", and "Periods". More about "UserSession" class under the classes category
    
    $Database //A "UserDatabase" class that is used as a proxy to connect to the SQLI Database. More about "UserDatabase" class under the classes category
    
  >Classes:
  
    class UserPeriod($Parent) //A class that is created inside of the "UserSession" class. This class serves the purpose of being used to get periods and period information from a specific user.
      *Properties:
      
        private $Data //An array that holds all of the period information, it is connected to the "UserSession" class
      
        private $Parent //The "UserSession" class that created
      
        private $PeriodData //An array that holds the specific names of keys inside of the $Data property. It is used to convert raw keys from the database to keys that are used inside the $_SESSION array.
      
      *Methods:
      
        ConvertPeriod($Name,$Type) //Returns a string based on the $Name input and the $Type input. Please see the examples category to understand more about how to use this method
      
        AddPeriod($Name,$Data) //Adds a Period to the $Data array. Please see the examples category to understand more about how to use this method

        GetPeriod($Name) //Returns an array of data based off what the $Name input is. Please see the examples category to understand more about how to use this method
        
        GetPeriodSave($Name) //Returns what GetPeriod($Name) returns but encoded in json
        
        ToSave() //Returns an array of all periods converted into JSON and all keys are the raw database keys that are used.
        
    class UserSession($Username,$UID) //A class that is a proxy to allow easy access of the session variable $_SESSION["UserInformation"]
    
      *Properties:
        
        private $Data //The session variable $_SESSION["UserInformation"]
        
        public $Periods //The "UserPeriod" class created by this class
        
      *Methods:
      
        SetUsername($Username) //Sets the "Username" variable inside of the $Data array
        
        SetUID($UID) //Sets the "UID" variable inside of the $Data array
        
        SetLogin($Login) //Sets the "LoggedIn" variable inside of the $Data array
        
        SetFirstName($Name) //Sets the "FName" variable inside of the $Data array
        
        SetLastName($Name) //Sets the "LName" variable inside of the $Data array
        
        Get($Name) //Returns the given variable $Name inside of the $Data array
        
        Reset() //Resets the entire $Data array to its default values
        
    class SQLResult($Result) //A proxy class that allows easy access to the data queired by the "SQLDatabase" class
    
      *Properties:
      
        private $Result //The raw result from the queired "SQLDatabase" class
        
      *Methods:
      
        GetRow($Number) //Returns an array of the given row inside of the $Result property
        
        Each($Callback) //Runs the given $Callback (a function) on all occurances inside the $Result property, the first two parameters sent to $Callback are "$Key, $Value" which reprentents the row number and the value in the row
        
        ToArray() //Returns an array of the entire $Result property
        
    class SQLDatabase($Username,$Password,$DBName) //A base class for accessing a database
      
      *Properties:
      
        private $Username //The username of the database
        
        private $Password //The password of the database
        
        private $DBName //The name of the database
        
        private $Connection //The raw connection of the database
        
        private $Started //A boolean that determines weather or not the database was started
        
      *Methods:
      
        Start() //Starts the database, so you can begin using other methods to do things with the database
        
        End() //Ends the database connection
        
        Query($SQL) //Queries the given $SQL code and returns the results
        
        GetFrom($TableName) //Returns a "SQLResult" class with the given results, this method will get the given table inside the database
        
        InsertTo($TableName,$Values) //Inserts the given values into the given table inside the database. $Values is structured as ["Key"=>"Value",...]
        
        DeleteFrom($TableName,$VariableName,$VariableValue) //Will delete a column inside the table in the database if the key $VariableName equals $VariableValue
        
        UpdateIn($TableName,$VariableName,$VariableValue,$Values) //Will update the given $Values inside of the table in the database if the key $VariableName equals $VariableValue. $Values is structured as ["Key"=>"Value",...]
        
    class UserDatabase($Username,$Password,$DBName) //A class that extends the "SQLDatabase" class and allows for methods that will easily allow you to modify or get things inside the "users" and "schedules" table(s)
      
      *Properties:
      
      *Methods:
      
        UserExists($Username) //Returns a boolean on weather or not the given $Username already exists inside of the "users" table in the database
        
        GetUserCredentials($Username) //Returns an array of data that is the $Username's data inside the "users" table
        
        SignUp($Username,$Password,$FName,$LName,$Email) //It basically explains itself, it will add all of these variables to the "users" table inside of the database (It cannot overwrite existing user data)
        
        Login($Username,$Password) //This method will log in the given user if the $Username and $Password matches the data inside the "users" table. The user must exist before this method can be used. This method will update the $Session variable's data to match the user's data
        
        Logout() //This method will log out the given user if they are signed in. This method will reset the $Session variable's data
        
        ChangePassword($Username,$NewPassword) //This method will change the given user's password to the new password provided
        
        GetPeriods() //This method will return an array of the periods inside the database that the user has
        
        SavePeriods($UID,$PeriodData) //This method will update the given periods inside the $PeriodData array inside of the user's periods in the "schedule" table
        
        SavePeriod($UID,$Name,$Data) //This method does basically the same thing as "SavePeriods" but it updates one period only
        
  >Examples:
    
    //Listed below is an example of everything useful above
    
    //UserSession & UserPeriod
    
    $Session = new UserSession();
    $Session->SetUsername("Username");
    $Session->SetUID(1);
    $Session->SetLogin(true);
    echo $Session->Get("Username") . "<br>"; //"Username"
    $Session->Reset();
    echo $Session->Get("Username") . "<br>"; //"" (It's a blank string)
    echo $Session->Get("LoggedIn") . "<br>"; //"false" (Not logged in)
    
    $Period =& $Session->Periods;
    
    echo $Period->ConvertPeriod("Period1","to"); //"per1"
    echo $Period->ConvertPeriod("per1","from"); //"Period1"
    
    $Period->AddPeriod("Period1",["Key"=>"Value"]);
    var_dump($Period->GetPeriod("Period1"));echo "<br>"; //"array(1) { ["Key"]=> string(5) "Value" } "
    echo $Period->GetPeriodSave("Period1") . "<br>"; //"{"Key":"Value"}" (A JSON table)
    echo $Period->ToSave() . "<br>"; //"[{"Key":"Value"}]" (A JSON array with all the periods it saved)
    
    //SQLDatabase & SQLResult & UserDatabase
    
    $Database = new UserDatabase("Username","Password","DBName");
    $Database->Start();
    
    $Database->SignUp("Sebastian","Password123","Sebastian","Autry","353425@guhsd.net");
    
    $Result = $Database->GetFrom("users");
    $Result->Each(function($Key,$Value){
      print_r($Value);echo "<br>";
    }); //"Array ( [uid] => 1 [username] => Sebastian [password] => Password123 [fName] => Sebastian [lName] => Autry [email] => 353425@guhsd.net )"
    
    print_r($Results->GetRow(0));echo "<br>"; //"Array ( [uid] => 1 [username] => Sebastian [password] => Password123 [fName] => Sebastian [lName] => Autry [email] => 353425@guhsd.net )"
    
    print_r($Results->ToArray());echo "<br>"; //"Array ( [0] => Array ( [uid] => 1 [username] => Sebastian [password] => Password123 [fName] => Sebastian [lName] => Autry [email] => 353425@guhsd.net ) )"
    
    print_r($Database->GetUserCredentials("Sebastian"));echo "<br>"; //"Array ( [uid] => 1 [username] => Sebastian [password] => Password123 [fName] => Sebastian [lName] => Autry [email] => 353425@guhsd.net )"
    
    echo $Database->UserExists("Sebastian") . "<br>"; //"true"
    echo $Database->UserExists("Larry") . "<br>"; //"false"
    
    $Database->SavePeriod(1,"per1","{"Key":"Value"}");
    
    $Result1 = $Database->GetPeriods(1);
    $Result1->Each(function($Key,$Value){
      print_r($Value);echo "<br>";
    }); //"Aray( [uid] => 1 [userUID] => 1 [per1] => Array ( [Key] => Value ) ... )" (I am unsure if this is the result, as I have been unable to test anything related to periods because the schedule table isn't working properly)
    
    $Database->DeleteFrom("users","uid",1); //Should allow you to run this code again
    $Database->DeleteFrom("schedule","userUID",1); //Should allow you to run this code again
    
    $Database->Logout();
    
    $Database->End();
  
  >Notes:
    
    *You don't need to worry about using $Database->GetPeriods to update the periods array in the session, logging in and signing up automatically does it for you; one thing you may need to do is when saving periods, you might have to add the period to the session yourself.
    
    *Use the session as much as possible to get period data and other information like Username and UID because I feel like we should send as little requests as possible to the database
